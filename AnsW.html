<div id="tab-api" class="tab-content">
    <h2 style="color:var(--p)">C·∫§U H√åNH H·ªÜ TH·ªêNG KEY</h2>
    <div class="glass" style="padding: 30px; max-width: 600px;">
        <div style="margin-bottom: 20px;">
            <label style="display:block; margin-bottom: 8px; opacity: 0.8;">Linkvertise User ID (S·ªë ng·∫Øn)</label>
            <input type="text" id="cfg-id" class="glass-input" placeholder="V√≠ d·ª•: 582931">
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display:block; margin-bottom: 8px; opacity: 0.8;">Linkvertise API Key (M√£ d√†i An g·ª≠i)</label>
            <input type="password" id="cfg-key" class="glass-input" placeholder="D√°n m√£ b·∫£o m·∫≠t v√†o ƒë√¢y...">
        </div>

        <div style="margin-bottom: 25px;">
            <label style="display:block; margin-bottom: 8px; opacity: 0.8;">Th·ªùi gian Key h·∫øt h·∫°n (Gi·ªù)</label>
            <input type="number" id="cfg-timer" class="glass-input" value="24">
        </div>

        <button class="nav-item active" style="border:none; width: 100%; justify-content: center; height: 45px;" onclick="saveConfigToServer()">
            üíæ L∆ØU C·∫§U H√åNH V√ÄO SERVER
        </button>
        
        <p id="save-status" style="font-size: 12px; margin-top: 15px; text-align: center; display: none;"></p>
    </div>
</div>

<script>
async function saveConfigToServer() {
    const userId = document.getElementById('cfg-id').value;
    const apiKey = document.getElementById('cfg-key').value;
    const timer = document.getElementById('cfg-timer').value;
    const status = document.getElementById('save-status');

    if(!userId || !apiKey) return alert("Vui l√≤ng ƒëi·ªÅn ƒë·ªß ID v√† Key!");

    const res = await fetch('/api/save-config', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ userId, apiKey, timer })
    });

    const result = await res.json();
    if(result.success) {
        status.innerText = "‚úÖ ƒê√£ c·∫≠p nh·∫≠t c·∫•u h√¨nh l√™n Railway!";
        status.style.display = "block";
        status.style.color = "var(--g)";
    }
}
</script>
