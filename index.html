// Thêm đoạn này vào phần <script> của index.html đã gửi trước đó
async function loadData() {
    const grid = document.getElementById('grid');
    grid.innerHTML = "<p>Đang tải script...</p>";
    
    try {
        const response = await fetch('https://anshub-production.up.railway.app/get-hub');
        const data = await response.json();
        
        grid.innerHTML = ""; // Xóa dòng loading
        
        data.scripts.forEach(s => {
            const card = document.createElement('div');
            card.className = "script-card";
            card.setAttribute('data-tilt', '');
            
            // Link ảnh dự phòng nếu ko có ảnh
            const imgUrl = s.img || "https://media.discordapp.net/attachments/1472992341156434219/1472992415303340276/Picsart_26-02-16_14-27-25-185.jpg";
            
            card.innerHTML = `
                <img src="${imgUrl}" class="card-img">
                <div class="card-info">
                    <h3>${s.name}</h3>
                </div>
            `;
            
            card.onclick = () => showModal(s.name, imgUrl, s.describe || "Không có mô tả");
            grid.appendChild(card);
        });
        
        // Kích hoạt lại hiệu ứng nghiêng cho card mới tạo
        VanillaTilt.init(document.querySelectorAll(".script-card"));
        
    } catch (e) {
        grid.innerHTML = "<p>Lỗi kết nối server!</p>";
    }
}

loadData(); // Gọi hàm khi trang web mở ra
